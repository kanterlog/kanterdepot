<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Bourdon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #eafbe7;
      margin: 0;
      padding: 0;
      color: #235027;
      text-align: center;
    }
    #quiz-container {
      max-width: 700px;
      margin: auto;
      padding: 20px;
    }
    .question-image {
      width: 100%;
      max-height: 300px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .question-text {
      font-size: 1.3em;
      margin: 20px 0 10px;
    }
    .answers label {
      display: block;
      background: #f0fff3;
      margin: 10px auto;
      padding: 12px;
      border-radius: 10px;
      max-width: 400px;
      cursor: pointer;
      border: 3px solid transparent;
      transition: 0.2s;
    }
    .answers input[type="radio"] {
      display: none;
    }
    .answers label.correct {
      background: #c8fdd4;
      border-color: #23a123;
      animation: pulseGreen 0.3s ease-in-out;
    }
    .answers label.wrong {
      background: #ffd6d6;
      border-color: #e74c3c;
      animation: shakeRed 0.3s ease-in-out;
    }
    @keyframes pulseGreen {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    @keyframes shakeRed {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-3px); }
    }
    #score {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 20px;
    }
    #final-screen {
      position: relative;
      display: none;
    }
    #final-screen img {
      width: 100%;
      border-radius: 16px;
    }
    #final-score-text {
      position: absolute;
      top: 25%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2em;
      color: #d62828;
      background: rgba(255,255,255,0.7);
      padding: 12px 20px;
      border-radius: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="quiz-container">
    <div id="score">Score : 0</div>
    <div id="question-area"></div>
  </div>

  <div id="final-screen">
    <img id="final-img" src="" alt="Résultat">
    <div id="final-score-text"></div>
  </div>

  <script>
    const quiz = [
      { question: "Combien y-a-t-il d’espèces de bourdon ?", image: "q1.jpg", answers: { a: "45", b: "10", c: "100" }, correct: "a" },
      { question: "Le bourdon est-il insectivore, nectarivore ou omnivore ?", image: "q2.jpg", answers: { a: "Insectivore", b: "Nectarivore", c: "Omnivore" }, correct: "b" },
      { question: "Où vit le bourdon ?", image: "q3.jpg", answers: { a: "Plaines et montagnes", b: "Déserts", c: "Villes" }, correct: "a" },
      { question: "Quels sont ses prédateurs naturels ?", image: "q4.jpg", answers: { a: "Chats", b: "Bondrée", c: "Serpents" }, correct: "b" },
      { question: "Quel est le nom scientifique ?", image: "q5.jpg", answers: { a: "Apis mellifera", b: "Bombus terrestris", c: "Vespa crabro" }, correct: "b" },
      { question: "Il est de quelle famille ?", image: "q6.png", answers: { a: "Apidae", b: "Formicidae", c: "Culicidae" }, correct: "a" },
      { question: "De quel ordre est-il ?", image: "q7.jpg", answers: { a: "Hymenoptera", b: "Coleoptera", c: "Lepidoptera" }, correct: "a" },
      { question: "Quelle taille fait-il ?", image: "q8.jpg", answers: { a: "12 mm", b: "25 mm", c: "50 mm" }, correct: "b" },
      { question: "Une colonie peut contenir combien d’individus ?", image: "q9.jpg", answers: { a: "100 à 200", b: "300 à 500", c: "4000 à 6000" }, correct: "b" },
      { question: "Qu’est-ce qui recouvre son corps ?", image: "q10.jpg", answers: { a: "Poils", b: "Carapace", c: "Écailles" }, correct: "a" },
      { question: "Où est-il présent ?", image: "q11.png", answers: { a: "Europe", b: "Afrique", c: "Asie" }, correct: "a" }
    ];

    let current = 0;
    let score = 0;

    function renderQuestion() {
      const container = document.getElementById("question-area");
      const q = quiz[current];

      container.innerHTML = `
        <img src="${q.image}" class="question-image" alt="">
        <div class="question-text">${q.question}</div>
        <div class="answers">
          ${Object.entries(q.answers).map(([key, val]) => `
            <label data-key="${key}">
              <input type="radio" name="answer" value="${key}">
              ${val}
            </label>
          `).join("")}
        </div>
      `;

      const labels = container.querySelectorAll("label");
      labels.forEach(label => {
        label.onclick = () => {
          const userAnswer = label.dataset.key;
          labels.forEach(l => l.classList.remove("correct", "wrong"));
          if (userAnswer === q.correct) {
            label.classList.add("correct");
            score++;
            updateScore();
            setTimeout(() => {
              current++;
              if (current < quiz.length) {
                renderQuestion();
              } else {
                showFinal();
              }
            }, 700);
          } else {
            label.classList.add("wrong");
            score--;
            updateScore();
          }
        };
      });
    }

    function updateScore() {
      document.getElementById("score").textContent = `Score : ${score}`;
    }

    function showFinal() {
      document.getElementById("quiz-container").style.display = "none";
      const final = document.getElementById("final-screen");
      const scoreText = document.getElementById("final-score-text");
      const finalImg = document.getElementById("final-img");

      finalImg.src = score >= 8 ? "felicitation.png" : "dommage.png";
      scoreText.textContent = `Score : ${score} sur ${quiz.length}`;
      final.style.display = "block";
    }

    renderQuestion();
  </script>
</body>
</html>
