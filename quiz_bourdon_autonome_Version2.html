<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Quiz Bourdon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #eafbe7;
      margin: 0;
      padding: 0;
      text-align: center;
      color: #235027;
    }
    #quiz-container {
      max-width: 600px;
      margin: auto;
      padding: 2em;
      background: #fff;
      border-radius: 24px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.15);
    }
    #score-counter {
      font-size: 1.5em;
      margin-bottom: 1em;
      font-weight: bold;
      background: #d5f5e3;
      display: inline-block;
      padding: 0.4em 1em;
      border-radius: 1em;
      color: #2e7d32;
    }
    .question-image {
      max-width: 100%;
      border-radius: 12px;
      box-shadow: 0 3px 12px #0001;
      margin-bottom: 1em;
    }
    .question-text {
      font-size: 1.2em;
      margin: 1em 0;
      font-weight: 600;
    }
    .answers label {
      display: block;
      background: #e8f8ec;
      padding: 1em;
      border-radius: 12px;
      margin: 0.5em 0;
      cursor: pointer;
      transition: 0.2s;
      border: 2px solid transparent;
    }
    .answers input {
      display: none;
    }
    .correct {
      background: #c6f7c3 !important;
      border-color: #2ecc71 !important;
      animation: pulse-green 0.3s;
    }
    .wrong {
      background: #ffdddd !important;
      border-color: #e74c3c !important;
      animation: shake 0.3s;
    }
    @keyframes pulse-green {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      75% { transform: translateX(5px); }
    }
    #final {
      display: none;
      position: relative;
    }
    #final img {
      max-width: 100%;
      border-radius: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }
    #final-score-overlay {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2em;
      font-weight: bold;
      color: #d31c1c;
      text-shadow: 2px 2px 6px #fff;
      background: rgba(255,255,255,0.8);
      padding: 0.5em 1em;
      border-radius: 12px;
    }
  </style>
</head>
<body>
  <div id="quiz-container">
    <div id="score-counter">Score: 0</div>
    <div id="question-area"></div>
  </div>

  <div id="final">
    <img id="final-image" src="" alt="Fin">
    <div id="final-score-overlay"></div>
  </div>

  <script>
    const questions = [
      { q: "Combien y-a-t-il d’espèces de bourdon ?", img: "q1.jpg", a: { a: "45", b: "10", c: "100" }, correct: "a" },
      { q: "Le bourdon est-il insectivore, nectarivore ou omnivore ?", img: "q2.jpg", a: { a: "Insectivore", b: "Nectarivore", c: "Omnivore" }, correct: "b" },
      { q: "Où vit le bourdon ?", img: "q3.jpg", a: { a: "Dans les plaines et les montagnes.", b: "Forêts tropicales", c: "Dans le désert" }, correct: "a" },
      { q: "Quels sont ses prédateurs naturels ?", img: "q4.jpg", a: { a: "Les oiseaux", b: "La Bondrée", c: "Les chats" }, correct: "b" },
      { q: "Quel est le nom scientifique ?", img: "q5.jpg", a: { a: "Apis mellifera", b: "Bombus terrestris", c: "Vespa crabro" }, correct: "b" },
      { q: "Il est de quelle famille ?", img: "q6.png", a: { a: "Formicidae", b: "Apidae", c: "Felidae" }, correct: "b" },
      { q: "De quel ordre est-il ?", img: "q7.jpg", a: { a: "Coleoptera", b: "Hymenoptera", c: "Diptera" }, correct: "b" },
      { q: "Quelle taille fait-il ?", img: "q8.jpg", a: { a: "5 mm", b: "10 mm", c: "25 mm" }, correct: "c" },
      { q: "Une colonie peut contenir combien d’individus ?", img: "q9.jpg", a: { a: "300 à 500", b: "10 à 20", c: "1000 à 2000" }, correct: "a" },
      { q: "Qu’est-ce qui recouvre son corps ?", img: "q10.jpg", a: { a: "Des écailles", b: "Beaucoup de poils", c: "Une carapace" }, correct: "b" },
      { q: "Où est-il présent ?", img: "q11.png", a: { a: "Europe", b: "Asie", c: "Amérique" }, correct: "a" }
    ];

    let current = 0;
    let score = 0;

    const scoreCounter = document.getElementById('score-counter');
    const questionArea = document.getElementById('question-area');
    const final = document.getElementById('final');
    const finalImage = document.getElementById('final-image');
    const finalOverlay = document.getElementById('final-score-overlay');

    function updateScore() {
      scoreCounter.textContent = `Score: ${score}`;
    }

    function renderQuestion() {
      const q = questions[current];
      let html = `<img class="question-image" src="${q.img}">
        <div class="question-text">${q.q}</div><div class="answers">`;
      for (let key in q.a) {
        html += `<label data-key="${key}"><input type="radio" name="q">${q.a[key]}</label>`;
      }
      html += `</div>`;
      questionArea.innerHTML = html;

      document.querySelectorAll('.answers label').forEach(label => {
        label.addEventListener('click', () => {
          const choice = label.getAttribute('data-key');
          if (choice === q.correct) {
            label.classList.add('correct');
            score++;
            updateScore();
            setTimeout(() => {
              current++;
              if (current < questions.length) renderQuestion();
              else showFinal();
            }, 700);
          } else {
            label.classList.add('wrong');
            score--;
            updateScore();
          }
        });
      });
    }

    function showFinal() {
      document.getElementById('quiz-container').style.display = 'none';
      final.style.display = 'block';
      finalImage.src = score >= 8 ? 'felicitation.png' : 'dommage.png';
      finalOverlay.textContent = `Score : ${score} / ${questions.length}`;
    }

    renderQuestion();
    updateScore();
  </script>
</body>
</html>
